<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">

<link href="catalog/view/theme/so-mobile/css/Review/reviews.css" rel="stylesheet" type="text/css" />

{% if reviews %}
  {% for review in reviews %}
  
    <div class="review-card">
      <!-- Rating -->
      <span class="rating-text">{{ review.rating }}â˜…</span>

      <!-- Review Text -->
      <p class="review-text">
        <span class="text-content clamped">{{ review.text }}</span>
        {% if review.text|length > 100 %}
          <a href="javascript:void(0);" class="read-more" onclick="toggleReadMore(this);">Read More</a>
        {% endif %}
      </p>

      <!-- Review Images -->
      {% if review.images %}
        <div class="review-images py-3" style="margin-top: 10px;">
          {% for image in review.images %}
            <img src="{{ image }}" alt="Review Image" style="max-width: 100px; max-height: 100px; margin-right: 5px;" />
          {% endfor %}
        </div>
      {% endif %}

      <!-- Author + Date -->
      <p class="review-header">
        <span class="author">{{ review.author }}</span>
        <span class="date ms-2">{{ review.date_added }}</span>
      </p>
    </div>
  {% endfor %}
  <div class="text-right">{{ pagination }}</div>
{% else %}
  <p>{{ text_no_reviews }}</p>
{% endif %}




<script>
function toggleReadMore(link) {
  const content = link.parentElement.querySelector('.text-content');
  const isClamped = content.classList.contains('clamped');

  if (isClamped) {
    content.style.webkitLineClamp = 'unset';
    content.style.maxHeight = 'none';
    content.classList.remove('clamped');
    link.textContent = 'Read Less';
  } else {
    content.style.webkitLineClamp = '2';
    content.style.maxHeight = '3em';
    content.classList.add('clamped');
    link.textContent = 'Read More';
  }
}


</script>