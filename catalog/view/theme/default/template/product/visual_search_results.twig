{{ header }}
<div id="product-search" class="container">
  <ul class="breadcrumb">
    {% for breadcrumb in breadcrumbs %}
    <li><a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a></li>
    {% endfor %}
  </ul>
  <div class="row">{{ column_left }}
    {% if column_left and column_right %}
    {% set class = 'col-sm-6' %}
    {% elseif column_left or column_right %}
    {% set class = 'col-sm-9' %}
    {% else %}
    {% set class = 'col-sm-12' %}
    {% endif %}
    <div id="content" class="{{ class }}">{{ content_top }}
      <h1>Visual Search Results</h1>
      <!-- Visual search results will be loaded here via JavaScript -->
      <div id="visual-search-container">
        <div class="loading-container">
          <div class="loading-spinner"></div>
          <p>Loading visual search results...</p>
        </div>
      </div>
      {{ content_bottom }}</div>
    {{ column_right }}</div>
</div>
{{ footer }}

<script type="text/javascript" src="catalog/view/javascript/visualsearch.js"></script>
<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', function() {
    // Initialize visual search functionality
    initVisualSearch();
    
    // Check if this is a results page and display results
    checkAndDisplayVisualSearchResults();
  });
</script>