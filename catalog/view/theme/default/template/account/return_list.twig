{{ header }}
<link rel="stylesheet" href="catalog/view/theme/default/stylesheet/customer/account/return_list.css">
<div id="account-return" class="container">
	<ul class="breadcrumb">
		{% for breadcrumb in breadcrumbs %}
			<li>
				<a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a>
			</li>
		{% endfor %}
	</ul>
	
	<div class="account_wrapper">
		<div id="account-info-container">
			{{ column_left_account }}
			
			<div id="content" class="{{ class }} return-content right_section">
				{{ content_top }}

				<h1>Return & Refund</h1>
				<p>Manage your returned and refund status</p>

				<div class="filter-section">
					<select class="filter-dropdown">
						<option value="all">All Status</option>
						<option value="pending">Pending</option>
						<option value="approved">Approved</option>
						<option value="rejected">Rejected</option>
					</select>
					<input type="date" class="date-picker">
					<input type="text" class="search-box" placeholder="Search returns...">
				</div>

				{% if returns %}
					<div class="table-responsive">
						<table class="table">
							<thead>
								<tr>
									<td class="text-right">{{ column_return_id }}</td>
									<td class="text-right">Product Image</td>
									<td class="text-right">Product Name</td>
									<td class="text-left">Return Date</td>
									<td class="text-left">{{ column_status }}</td>
									<td class="text-right">Actions</td>
									<td class="text-right">Images</td>
								</tr>
							</thead>
							<tbody>
								{% for return in returns %}
									<tr>
										<td class="text-right">#{{ return.return_id }}</td>
										<td class="product-info">
											<img src="{{ return.image }}" alt="{{ return.product_name }}" class="product-img" style="width:60px;height:60px;object-fit:contain;border:1px solid #ddd;padding:2px;margin-bottom:4px;"><br>
										</td>
										<td>
											<span class='productNameShort'>{{ return.product_name }}<br>{{ return.sku }}</span>
										</td>
										<td class="text-left">
											<span class="date-info">
												<p>{{ return.date_added }}</p>
											</span>
										</td>
										<td class="text-left">{{ return.status }}</td>
										<td class="action-links">
											<a href="{{ return.href }}" class="track-link">View Details</a>
										</td>
										<td class="text-right">
                                          <a href="{{ return.return_image_href }}" class="btn btn-primary" style="background-color: #953A93;">
                                            <i class="fa fa-pencil"></i>
                                          </a>
                                        </td>
									</tr>
								{% endfor %}
							</tbody>
						</table>
					</div>

					<div class="content-wrapper">
						<div class="left-content">{{ results }}</div>
						<div class="right-content">{{ continue_button }}</div>
					</div>
				{% else %}
					<p>{{ text_empty }}</p>
				{% endif %}

				<div class="buttons clearfix">
					<div class="pull-right">
						<a href="{{ continue }}" class="btn btn-primary">{{ button_continue }}</a>
					</div>
				</div>
				{{ content_bottom }}
			</div>
		</div>
	</div>
</div>
 <script>
  const limit = 4;
  const headings = document.querySelectorAll(".productNameShort");

  headings.forEach((h) => {
    const fullText = h.innerText;
    const words = fullText.split(" ");
    if (words.length > limit) {
      h.innerText = words.slice(0, limit).join(" ") + "...";
      h.title = fullText;
    }
  });
  </script>
{{ footer }}
