{{ header }}
<div class="container">
  <ul class="breadcrumb">
    {% for breadcrumb in breadcrumbs %}
    <li><a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a></li>
    {% endfor %}
  </ul>

  {% if success %}
  <div class="alert alert-success alert-dismissible"><i class="fa fa-check-circle"></i> {{ success }}</div>
  {% endif %}
  {% if error_warning %}
  <div class="alert alert-danger alert-dismissible"><i class="fa fa-exclamation-circle"></i> {{ error_warning }}</div>
  {% endif %}
</div>
<style>
  .cust-container-section {
    display: flex;
    flex-wrap: wrap;
    background: white;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    margin: 20px auto;
    max-width: 1100px;
    overflow: hidden;
  }

  .cust-image-section {
    flex: 1 1 50%;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .cust-image-section img {
    width: 100%;
    height: auto;
    max-height: 600px;
    object-fit: cover;
  }

  .cust-login-section {
    flex: 1 1 50%;
    padding: 60px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    text-align: center;
  }

  .cust-login-section h2 {
    font-size: 24px;
    color: #333;
    margin-bottom: 10px;
  }

  .cust-login-section p {
    color: #666;
    margin-bottom: 20px;
  }

  .cust-login-section form input {
    width: 100%;
    height: 40px;
    padding-inline: 10px !important;
    margin-bottom: 15px;
    border: none;
    border-bottom: 2px solid lightgray !important;
    outline: none;
    font-size: 14px;
  }

  .customer-login-btn-group {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  #customer-login-btn {
    padding: 10px 20px;
    background-color: #ba43da;
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-size: 16px;
    width: 100%;
    max-width: 460px;
  }

  #customer-login-btn:hover {
    background-color: #a932c4;
  }

  .forgot-password-container {
    text-align: center;
    margin-top: 10px;
  }

  .forgot-password-cust {
    color: #ba43da;
    text-decoration: none;
    font-size: 14px;
  }

  .forgot-password-cust:hover {
    text-decoration: underline;
  }

  .new-user-link {
    text-align: center;
    margin-top: 15px;
  }

  .new-user-link a {
    color: #ba43da;
    font-weight: 500;
    text-decoration: none;
    margin-left: 5px;
  }


  .cust-container-section textarea,.cust-container-section  input[type="text"],.cust-container-section  input[type="password"], .cust-container-section  input[type="datetime"], .cust-container-section  input[type="datetime-local"], .cust-container-section  input[type="date"], .cust-container-section  input[type="month"], .cust-container-section  input[type="time"], .cust-container-section  input[type="week"], .cust-container-section  input[type="number"], .cust-container-section  input[type="email"], .cust-container-section  input[type="url"], .cust-container-section  input[type="search"], .cust-container-section  input[type="tel"], .cust-container-section  input[type="color"], .cust-container-section  .uneditable-input, .cust-container-section  .form-control, .cust-container-section  select {
    border-radius: 3px;
    background-color:white !important;
    border: none;
    color: #3d3d3d;
    padding: 0px;
    font-size: 16px;
    /* font-size: 1.2rem; */
    box-shadow: none !important;
    transition: all 0.3s ease;
}

input[type="text"]:hover{
    background-color: white !important;

}

    .forgot-password-container {
  text-align: center;
  margin-top: 0px;
  margin-bottom:10px;
  text-align:right;
  
}

  /* Responsive Breakpoints */
  @media (max-width: 768px) {
    .cust-container-section {
      flex-direction: column;
      width:70%;
      margin-block:40px;
    }
    .cust-container-section img{
        display:none;
    }
    .cust-image-section, .cust-login-section {
      flex: 1 1 100%;
      width: 100%;
    }

    .cust-login-section {
      padding: 20px;
    }

    .cust-image-section img {
      max-height: 300px;
    }

    #customer-login-btn {
        max-width: 670px;    }
  }
  @media (max-width: 568px){
      .cust-container-section {
          width:90%;
      }
  }
  
  .password-wrapper {
    position: relative;
  }

  #togglePassword {
    position: absolute;
    top: 50%;
    right: 15px;
    transform: translateY(-50%);
    cursor: pointer;
    color: #666;
  }
</style>


  <div class="cust-container-section">
  <div class="cust-image-section">
    <img src="image/customer/registration_img.png" alt="Left Side Image" alt="Shopping and Mobile">
  </div>
  <div class="cust-login-section">
    <h2>{{text_login}}</h2>
    {#<b><p>Enter your details below</p></b>#}
    <form action="{{ action }}" method="post" enctype="multipart/form-data">
      <input type="text" name="email" value="{{ email }}" placeholder="Email or Phone Number" required />
      
      <div class="form-group">
        <div style="position:relative;">
          <input type="password" name="password" id="input-password" value="{{ password }}" placeholder="{{ entry_password }}" id="input-password" class="form-control" />
          <span type="button" id="togglePassword">
            <i class="fa fa-eye" id="togglePasswordIcon"></i>
          </span>
        </div>
      </div>
      
      {#<input type="password" name="password" value="{{ password }}" placeholder="Password" required />#}
      {#<span toggle="#input-password" id="toggle-password-icon" class="fa fa-fw fa-eye toggle-password" onclick="togglePasswordVisibility('input-password')" style="cursor: pointer;"></span>#}
      {#<button type="button" id="togglePassword">#}
      {#  <i class="fa fa-eye" id="togglePasswordIcon"></i>#}
      {#</button>#}

      <div class="forgot-password-container">
        <a href="{{ forgotten }}" class="forgot-password-cust">Forgot password?</a>
      </div>

      <div class="customer-login-btn-group">
        <button id="customer-login-btn" type="submit">{{ button_login }}</button>
      </div>

      <div class="new-user-link">
        <span style="color: #777; font-size: 14px;">New to ipshopy?</span>
        <a href="{{ register }}">Create an Account</a>
      </div>

      {% if redirect %}
        <input type="hidden" name="redirect" value="{{ redirect }}" />
      {% endif %}
    </form>
  </div>
</div>


<script>
  document.addEventListener('DOMContentLoaded', function() {
    var passwordInput = document.getElementById('input-password');
    var toggleBtn = document.getElementById('togglePassword');
    var toggleIcon = document.getElementById('togglePasswordIcon');
    if (passwordInput && toggleBtn) {
      toggleBtn.addEventListener('click', function() {
        if (passwordInput.type === 'password') {
          passwordInput.type = 'text';
          toggleIcon.classList.remove('fa-eye');
          toggleIcon.classList.add('fa-eye-slash');
        } else {
          passwordInput.type = 'password';
          toggleIcon.classList.remove('fa-eye-slash');
          toggleIcon.classList.add('fa-eye');
        }
      });
    }
  });
</script>

{{ footer }}